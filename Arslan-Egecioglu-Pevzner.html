<!--
University of Freiburg WS 2017/2018
Chair for Bioinformatics
Supervisor: Martin Raden
Author: Alexander Mattheis
-->

<div id="algorithm_description">
    <div class="description">
        The dynamic programming approach by
        <a href=" https://doi.org/10.1093/bioinformatics/17.4.327">
            Abdullah N. Arslan, Ömer Eğecioğlu and Pavel A. Pevzner (2001)</a>
        computes the best normalized local alignments of two sequences.
        It identifies the alignment that is best preserved with respect to the length of both sequences.
        So, it finds the alignment with the highest similarity under the given sequence-lengths
        of sequences $a$ and $b$.
        <br>
        <br>
        To find a normalized local alignment,
        the Fractional Programming Algorithm by
        <a href="http://pubsonline.informs.org/doi/abs/10.1287/mnsc.13.7.492">Werner Dinkelbach (1967)</a>
        is together used with
        <a href="https://doi.org/10.1016/0022-2836(81)90087-5">Smith-Waterman (1981)</a>.
        A Fractional Programming Algorithm is a machine learning algorithm
        to solve problems in which the Objective Function $ns(\mathscr{A})$ is a fraction.
        <br>
        <br>
        The normalized local alignment algorithm tries
        to find the alignment $\mathscr{A}$ of two sequences
        which is producing the highest normalized score
        $$\lambda^* = ns(\mathscr{A}) = \frac{s(\mathscr{A})}{⟦A⟧ + L}$$
        where $⟦A⟧ = |a_i ... a_j| + |b_k ... b_l|$ is the alignment-length
        of the subsequences and $L$ is a parameter
        to control the dependence of the normalized similarity to the alignment-length.
        <br>
        <br>
        For computation the <a href="https://doi.org/10.1016/0022-2836(81)90087-5">Smith-Waterman</a>
        algorithm is executed iteratively with different parameters $\lambda$
        in the modified scoring-function $s'$
        and thereby the normalized score $\lambda$ is recomputed
        with <a href="http://pubsonline.informs.org/doi/abs/10.1287/mnsc.13.7.492">Dinkelbach</a>
        until the value $\lambda$ converges.
        <br>
        <br>
        The according iteration possibilities
        (different alignments produce different iterations)
        can be selected below.
        For a given input, the according tables and scoring functions for $S$
        are shown along with a list of according local alignments.
        On table cell selection, optimal traceback options are shown.
        On alignment selection, an according traceback path is visualized in the table.
    </div>

    <div class="picture">
        <img src="Arslan-Egecioglu-Pevzner-120x90.png">
    </div>
</div>

<div id="algorithm_input">
    <form>
        <p>
            <label>Sequence $a$:</label>
            <input class="sequence" data-bind="value: input.sequence1" id="sequence_1"
                   placeholder="EXAMPLE 'ATC'" type="text">
        </p>

        <p>
            <label>Sequence $b$:</label>
            <input class="sequence" data-bind="value: input.sequence2" id="sequence_2"
                   placeholder="EXAMPLE 'AGTC'" type="text">
        </p>

        <p>
            <label>Scoring in $ns$:</label>
            <div class="span_group">
                <span class="group"> <!-- Microsoft Browsers will fallback on text-fields using following input type -->
                    Match <input class="fx_parameter" data-bind="value: input.match" id="match" type="number">
                    Mismatch <input class="fx_parameter" data-bind="value: input.mismatch" id="mismatch" type="number">
                </span>
                <br>
                <br>
                <span class="group"> <!-- Microsoft Browsers will fallback on text-fields using following input type -->
                     Deletion <input class="fx_parameter" data-bind="value: input.deletion" id="deletion" type="number">
                     Insertion <input class="fx_parameter" data-bind="value: input.insertion" id="insertion" type="number">
                     Length $L$ <input class="fx_parameter" data-bind="value: input.length" id="length" type="number">
                </span>
            </div>
        </p>

        <p>
            <label id="recursion_arslan_egecioglu_pevzner">Recursion:</label>
            <div class="span_group">
                <span data-bind="text: $root.input.formula"></span>
                <br>
                <br>
                with <br>
                <span data-bind="text: $root.input.subFormula"></span>
                <br>
                <br>
                where $\lambda^0 = 0$
                <br>
                <br>
            </div>

            <div class="group_hint">
                <b>Hint:</b> <br>
                For similarity maximization, match scores should be positive and all other scores lower. <br>
            </div>
        </p>
    </form>
</div>

<!-- Dynamic creation of iterations didn't work,
because of several problems with MathJax, ObservableArrays of arrays and runtime for drawing.
The "foreach"-bidning is strange, but it's the only found way which works without any bugs. -->
<div id="algorithm_output">
	<!-- ko foreach: $root.output.matrix5 -->
		<!-- ko if: $index() == 0 -->
			<div class="iteration">
				<div class="iteration_header">
					<h4>Iteration 5</h4>
				</div>

				<div class="output">
					<div class="main_output">
						<table class="calculation_5">
							<thead>
								<tr>
									<th>$D$</th>
									<th></th>
									<!-- ko foreach: $root.input.sequence1 -->
										<th data-bind="drawChar: [$data, $index()+1]"></th>
									<!-- /ko -->
								</tr>
							</thead>

							<tbody>
								<!-- ko foreach: $root.output.matrix5 -->
									<tr>
										<!-- ko if: $index() == 0 -->
											<th></th>
										<!-- /ko -->

										<!-- ko if: $index() > 0 -->
											<th data-bind="drawChar: [$root.input.sequence2()[$index()-1], $index()]"></th>
										<!-- /ko -->

										<!-- ko foreach: $root.output.matrix5[0] -->
											<td class="non_selectable_entry" data-bind="text: $root.output.matrix5()[$parentContext.$index()][$index()]"></td>
										<!-- /ko -->
									</tr>
								<!-- /ko -->
							</tbody>
						</table>
					</div>

					<div class="download">
						<table>
							<tfoot>
								<tr>
									<td class="download_table" colspan=100%>
										<a class="table_download_5" href="#">Download Table</a>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>

					<div class="parameters">
						Score $s(\mathscr{A})$:
						<span data-bind="text: $root.output.score5"></span> <br>

						Length $⟦A⟧$:
						<span data-bind="text: $root.output.length5"></span> <br>

						Normalized score $\lambda$:
						<span data-bind="text: $root.output.lambda5"></span> <br>
					</div>
				</div>

				<div class="outcome">
					<div class ="ancillary_output">
						<table class="results_header">
							<thead>
								<tr>
									<th>
										Results <br>
										<small>
											The result for which the score, length and normalized score were computed is marked.
										</small>
									</th>
								</tr>
							</thead>
						</table>

						<div class="results_with_scrollbar">
							<table class="results">
								<tbody>
									<!-- ko foreach: $root.output.alignments5 -->
										<!-- ko if: $index() < 10 -->

											<!-- ko if: $index() == $root.output.alignmentNumber5() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start entry_marked">
																<code data-bind="text: $root.output.alignments5()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry entry_marked">
																<code data-bind="text: $root.output.alignments5()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

											<!-- ko if: $index() != $root.output.alignmentNumber5() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start">
																<code data-bind="text: $root.output.alignments5()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry">
																<code data-bind="text: $root.output.alignments5()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments5()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

										<!-- /ko -->
									<!-- /ko -->
								</tbody>
							</table>
						</div>

						<table class="results_footer">
							<tr>
								<th>
									<small>
										<!-- ko if: $root.output.moreTracebacks -->
											<b>Hint:</b> Only the first ten results are computed.
										<!-- /ko -->
									</small>
								</th>
							</tr>
						</table>
					</div>
				</div>
			</div>
		<!-- /ko -->
	<!-- /ko -->

	<!-- ko foreach: $root.output.matrix4 -->
		<!-- ko if: $index() == 0 -->
			<div class="iteration">
				<div class="iteration_header">
					<h4>Iteration 4</h4>
				</div>

				<div class="output">
					<div class="main_output">
						<table class="calculation_4">
							<thead>
								<tr>
									<th>$D$</th>
									<th></th>
									<!-- ko foreach: $root.input.sequence1 -->
										<th data-bind="drawChar: [$data, $index()+1]"></th>
									<!-- /ko -->
								</tr>
							</thead>

							<tbody>
								<!-- ko foreach: $root.output.matrix4 -->
									<tr>
										<!-- ko if: $index() == 0 -->
											<th></th>
										<!-- /ko -->

										<!-- ko if: $index() > 0 -->
											<th data-bind="drawChar: [$root.input.sequence2()[$index()-1], $index()]"></th>
										<!-- /ko -->

										<!-- ko foreach: $root.output.matrix4[0] -->
											<td class="non_selectable_entry" data-bind="text: $root.output.matrix4()[$parentContext.$index()][$index()]"></td>
										<!-- /ko -->
									</tr>
								<!-- /ko -->
							</tbody>
						</table>
					</div>

					<div class="download">
						<table>
							<tfoot>
								<tr>
									<td class="download_table" colspan=100%>
										<a class="table_download_4" href="#">Download Table</a>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>

					<div class="parameters">
						Score $s(\mathscr{A})$:
						<span data-bind="text: $root.output.score4"></span> <br>

						Length $⟦A⟧$:
						<span data-bind="text: $root.output.length4"></span> <br>

						Normalized score $\lambda$:
						<span data-bind="text: $root.output.lambda4"></span> <br>
					</div>
				</div>

				<div class="outcome">
					<div class ="ancillary_output">
						<table class="results_header">
							<thead>
								<tr>
									<th>
										Results <br>
										<small>
											The result for which the score, length and normalized score were computed is marked.
										</small>
									</th>
								</tr>
							</thead>
						</table>

						<div class="results_with_scrollbar">
							<table class="results">
								<tbody>
									<!-- ko foreach: $root.output.alignments4 -->
										<!-- ko if: $index() < 10 -->

											<!-- ko if: $index() == $root.output.alignmentNumber4() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start entry_marked">
																<code data-bind="text: $root.output.alignments4()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry entry_marked">
																<code data-bind="text: $root.output.alignments4()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

											<!-- ko if: $index() != $root.output.alignmentNumber4() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start">
																<code data-bind="text: $root.output.alignments4()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry">
																<code data-bind="text: $root.output.alignments4()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments4()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

										<!-- /ko -->
									<!-- /ko -->
								</tbody>
							</table>
						</div>

						<table class="results_footer">
							<tr>
								<th>
									<small>
										<!-- ko if: $root.output.moreTracebacks -->
											<b>Hint:</b> Only the first ten results are computed.
										<!-- /ko -->
									</small>
								</th>
							</tr>
						</table>
					</div>
				</div>
			</div>
		<!-- /ko -->
	<!-- /ko -->

	<!-- ko foreach: $root.output.matrix3 -->
		<!-- ko if: $index() == 0-->
			<div class="iteration">
				<div class="iteration_header">
					<h4>Iteration 3</h4>
				</div>

				<div class="output">
					<div class="main_output">
						<table class="calculation_3">
							<thead>
								<tr>
									<th>$D$</th>
									<th></th>
									<!-- ko foreach: $root.input.sequence1 -->
										<th data-bind="drawChar: [$data, $index()+1]"></th>
									<!-- /ko -->
								</tr>
							</thead>

							<tbody>
								<!-- ko foreach: $root.output.matrix3 -->
									<tr>
										<!-- ko if: $index() == 0 -->
											<th></th>
										<!-- /ko -->

										<!-- ko if: $index() > 0 -->
											<th data-bind="drawChar: [$root.input.sequence2()[$index()-1], $index()]"></th>
										<!-- /ko -->

										<!-- ko foreach: $root.output.matrix3[0] -->
											<td class="non_selectable_entry" data-bind="text: $root.output.matrix3()[$parentContext.$index()][$index()]"></td>
										<!-- /ko -->
									</tr>
								<!-- /ko -->
							</tbody>
						</table>
					</div>

					<div class="download">
						<table>
							<tfoot>
								<tr>
									<td class="download_table" colspan=100%>
										<a class="table_download_3" href="#">Download Table</a>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>

					<div class="parameters">
						Score $s(\mathscr{A})$:
						<span data-bind="text: $root.output.score3"></span> <br>

						Length $⟦A⟧$:
						<span data-bind="text: $root.output.length3"></span> <br>

						Normalized score $\lambda$:
						<span data-bind="text: $root.output.lambda3"></span> <br>
					</div>
				</div>

				<div class="outcome">
					<div class ="ancillary_output">
						<table class="results_header">
							<thead>
								<tr>
									<th>
										Results <br>
										<small>
											The result for which the score, length and normalized score were computed is marked.
										</small>
									</th>
								</tr>
							</thead>
						</table>

						<div class="results_with_scrollbar">
							<table class="results">
								<tbody>
									<!-- ko foreach: $root.output.alignments3 -->
										<!-- ko if: $index() < 10 -->

											<!-- ko if: $index() == $root.output.alignmentNumber3() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start entry_marked">
																<code data-bind="text: $root.output.alignments3()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry entry_marked">
																<code data-bind="text: $root.output.alignments3()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

											<!-- ko if: $index() != $root.output.alignmentNumber3() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start">
																<code data-bind="text: $root.output.alignments3()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry">
																<code data-bind="text: $root.output.alignments3()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments3()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

										<!-- /ko -->
									<!-- /ko -->
								</tbody>
							</table>
						</div>

						<table class="results_footer">
							<tr>
								<th>
									<small>
										<!-- ko if: $root.output.moreTracebacks -->
											<b>Hint:</b> Only the first ten results are computed.
										<!-- /ko -->
									</small>
								</th>
							</tr>
						</table>
					</div>
				</div>
			</div>
		<!-- /ko -->
	<!-- /ko -->

	<!-- ko foreach: $root.output.matrix2 -->
		<!-- ko if: $index() == 0 -->
			<div class="iteration">
				<div class="iteration_header">
					<h4>Iteration 2</h4>
				</div>

				<div class="output">
					<div class="main_output">
						<table class="calculation_2">
							<thead>
								<tr>
									<th>$D$</th>
									<th></th>
									<!-- ko foreach: $root.input.sequence1 -->
										<th data-bind="drawChar: [$data, $index()+1]"></th>
									<!-- /ko -->
								</tr>
							</thead>

							<tbody>
								<!-- ko foreach: $root.output.matrix2 -->
									<tr>
										<!-- ko if: $index() == 0 -->
											<th></th>
										<!-- /ko -->

										<!-- ko if: $index() > 0 -->
											<th data-bind="drawChar: [$root.input.sequence2()[$index()-1], $index()]"></th>
										<!-- /ko -->

										<!-- ko foreach: $root.output.matrix2[0] -->
											<td class="non_selectable_entry" data-bind="text: $root.output.matrix2()[$parentContext.$index()][$index()]"></td>
										<!-- /ko -->
									</tr>
								<!-- /ko -->
							</tbody>
						</table>
					</div>

					<div class="download">
						<table>
							<tfoot>
								<tr>
									<td class="download_table" colspan=100%>
										<a class="table_download_2" href="#">Download Table</a>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>

					<div class="parameters">
						Score $s(\mathscr{A})$:
						<span data-bind="text: $root.output.score2"></span> <br>

						Length $⟦A⟧$:
						<span data-bind="text: $root.output.length2"></span> <br>

						Normalized score $\lambda$:
						<span data-bind="text: $root.output.lambda2"></span> <br>
					</div>
				</div>

				<div class="outcome">
					<div class ="ancillary_output">
						<table class="results_header">
							<thead>
								<tr>
									<th>
										Results <br>
										<small>
											The result for which the score, length and normalized score were computed is marked.
										</small>
									</th>
								</tr>
							</thead>
						</table>

						<div class="results_with_scrollbar">
							<table class="results">
								<tbody>
									<!-- ko foreach: $root.output.alignments2 -->
										<!-- ko if: $index() < 10 -->

											<!-- ko if: $index() == $root.output.alignmentNumber2() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start entry_marked">
																<code data-bind="text: $root.output.alignments2()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry entry_marked">
																<code data-bind="text: $root.output.alignments2()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

											<!-- ko if: $index() != $root.output.alignmentNumber2() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start">
																<code data-bind="text: $root.output.alignments2()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry">
																<code data-bind="text: $root.output.alignments2()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments2()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

										<!-- /ko -->
									<!-- /ko -->
								</tbody>
							</table>
						</div>

						<table class="results_footer">
							<tr>
								<th>
									<small>
										<!-- ko if: $root.output.moreTracebacks -->
											<b>Hint:</b> Only the first ten results are computed.
										<!-- /ko -->
									</small>
								</th>
							</tr>
						</table>
					</div>
				</div>
			</div>
		<!-- /ko -->
	<!-- /ko -->

	<!-- ko foreach: $root.output.matrix1 -->
		<!-- ko if: $index() == 0 -->
			<div class="iteration">
				<div class="iteration_header">
					<h4>Iteration 1</h4>
				</div>

				<div class="output">
					<div class="main_output">
						<table class="calculation_1">
							<thead>
								<tr>
									<th>$D$</th>
									<th></th>
									<!-- ko foreach: $root.input.sequence1 -->
										<th data-bind="drawChar: [$data, $index()+1]"></th>
									<!-- /ko -->
								</tr>
							</thead>

							<tbody>
								<!-- ko foreach: $root.output.matrix1 -->
									<tr>
										<!-- ko if: $index() == 0 -->
											<th></th>
										<!-- /ko -->

										<!-- ko if: $index() > 0 -->
											<th data-bind="drawChar: [$root.input.sequence2()[$index()-1], $index()]"></th>
										<!-- /ko -->

										<!-- ko foreach: $root.output.matrix1[0] -->
											<td class="non_selectable_entry" data-bind="text: $root.output.matrix1()[$parentContext.$index()][$index()]"></td>
										<!-- /ko -->
									</tr>
								<!-- /ko -->
							</tbody>
						</table>
					</div>

					<div class="download">
						<table>
							<tfoot>
								<tr>
									<td class="download_table" colspan=100%>
										<a class="table_download_1" href="#">Download Table</a>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>

					<div class="parameters">
						Score $s(\mathscr{A})$:
						<span data-bind="text: $root.output.score1"></span> <br>

						Length $⟦A⟧$:
						<span data-bind="text: $root.output.length1"></span> <br>

						Normalized score $\lambda$:
						<span data-bind="text: $root.output.lambda1"></span> <br>
					</div>
				</div>

				<div class="outcome">
					<div class ="ancillary_output">
						<table class="results_header">
							<thead>
								<tr>
									<th>
										Results <br>
										<small>
											The result for which the score, length and normalized score were computed is marked.
										</small>
									</th>
								</tr>
							</thead>
						</table>

						<div class="results_with_scrollbar">
							<table class="results">
								<tbody>
									<!-- ko foreach: $root.output.alignments1 -->
										<!-- ko if: $index() < 10 -->

											<!-- ko if: $index() == $root.output.alignmentNumber1() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start entry_marked">
																<code data-bind="text: $root.output.alignments1()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry entry_marked">
																<code data-bind="text: $root.output.alignments1()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

											<!-- ko if: $index() != $root.output.alignmentNumber1() -->
												<!-- ko if: $index() == 0 -->
														<tr>
															<td class="entry entry_start">
																<code data-bind="text: $root.output.alignments1()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
												<!-- ko if: $index() != 0 -->
														<tr>
															<td class="entry">
																<code data-bind="text: $root.output.alignments1()[$index()][0]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][1]"></code> <br>
																<code data-bind="text: $root.output.alignments1()[$index()][2]"></code>
															</td>
														</tr>
												<!-- /ko -->
											<!-- /ko -->

										<!-- /ko -->
									<!-- /ko -->
								</tbody>
							</table>
						</div>

						<table class="results_footer">
							<tr>
								<th>
									<small>
										<!-- ko if: $root.output.moreTracebacks -->
											<b>Hint:</b> Only the first ten results are computed.
										<!-- /ko -->
									</small>
								</th>
							</tr>
						</table>
					</div>
				</div>
			</div>
		<!-- /ko -->
	<!-- /ko -->

	<div class="iteration_footer">
		<b>Hints:</b> <br>
		No more than 5 iterations are computed! <br>
		Scores $s(\mathscr{A})$ and normalised scores $\lambda$ are rounded to four digits after the decimal point.
	</div>
</div>
